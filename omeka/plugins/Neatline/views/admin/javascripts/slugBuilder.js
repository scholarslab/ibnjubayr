(function(b){b.widget("neatlinewebservice.slugBuilder",{options:{web_root:"",colors:{light_gray:"#a3a3a3",dark_gray:"#3a3a3a"}},_create:function(){this._body=b("body");this._window=b(window);this.title=b('input[name="name"]');this.slug=b('input[name="slug"]');this._hasTyped=!1;this.setSlugInputToGray();this._addEvents()},_addEvents:function(){var a=this;this.title.bind({keyup:function(){if(!a._hasTyped){var b=a.slugify(a.title.val());a.slug.val(b)}}});this.slug.bind({keydown:function(b){b.keyCode==
32&&(b.preventDefault(),b=a.slug.val(),a.slug.val(b+"-"),a.slug.trigger("keyup"))},keyup:function(){a.slugify(a.slug.val());a._hasTyped||a.fadeUpSlugInput();a._hasTyped=!0}})},slugify:function(a){return b.trim(a).replace(/\s+/g,"-").replace(/(&nbsp;)+/g,"-").replace(/[^\w+-]+/g,"").toLowerCase()},fadeUpSlugInput:function(){this.slug.animate({color:this.options.colors.dark_gray},200)},setSlugInputToGray:function(){this.slug.css("color",this.options.colors.light_gray)},getAttr:function(a){return this[a]}})})(jQuery);
