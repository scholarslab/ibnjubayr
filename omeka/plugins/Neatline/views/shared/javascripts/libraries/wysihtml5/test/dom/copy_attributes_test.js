module("wysihtml5.dom.copyAttributes",{setup:function(){this.div=document.createElement("div");this.span=document.createElement("span");this.anotherDiv=document.createElement("div");this.iframe=document.createElement("iframe");this.iframe.src="javascript:'<html></html>'";document.body.appendChild(this.iframe)},teardown:function(){this.iframe.parentNode.removeChild(this.iframe)}});
test("Basic Tests",function(){var a={title:"foobar",lang:"en",className:"foo bar"};wysihtml5.dom.setAttributes(a).on(this.div);wysihtml5.dom.copyAttributes(["title","lang","className"]).from(this.div).to(this.span);equal(this.span.title,a.title,"Title correctly copied");equal(this.span.lang,a.lang,"Lang correctly copied");equal(this.span.className,a.className,"Class correctly copied")});
asyncTest("Test copying attributes from one element to another element which is in an iframe",function(){expect(1);var a=this;setTimeout(function(){var c=a.iframe.contentWindow.document,b=c.createElement("div");c.body.appendChild(b);a.span.title="heya!";wysihtml5.dom.copyAttributes(["title"]).from(a.span).to(b);equal(b.title,"heya!","Element in iframe correctly got attributes copied over");start()},1E3)});
