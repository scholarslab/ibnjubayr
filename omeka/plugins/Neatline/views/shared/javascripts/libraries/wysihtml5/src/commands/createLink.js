(function(i){function m(c,f){var a=c.doc,d="_wysihtml5-temp-"+ +new Date,h=0,j,b,e;i.commands.formatInline.exec(c,k,l,d,/non-matching-class/g);j=a.querySelectorAll(l+"."+d);for(d=j.length;h<d;h++)for(e in b=j[h],b.removeAttribute("class"),f)b.setAttribute(e,f[e]);h=b;d===1&&(e=g.getTextContent(b),d=!!b.querySelector("*"),e=e===""||e===i.INVISIBLE_SPACE,!d&&e&&(g.setTextContent(b,f.text||b.href),a=a.createTextNode(" "),c.selection.setAfter(b),c.selection.insertNode(a),h=a));c.selection.setAfter(h)}
var k,l="A",g=i.dom;i.commands.createLink={exec:function(c,f,a){var d=this.state(c,f);d?c.selection.executeAndRestore(function(){for(var c=d.length,a=0,b,e,f;a<c;a++)b=d[a],e=g.getParentElement(b,{nodeName:"code"}),f=g.getTextContent(b),f.match(g.autoLink.URL_REG_EXP)&&!e?g.renameElement(b,"code"):g.replaceWithChildNodes(b)}):(a=typeof a==="object"?a:{href:a},m(c,a))},state:function(c,f){return i.commands.formatInline.state(c,f,"A")},value:function(){return k}}})(wysihtml5);
